{% extends "base.html" %}
{% block title %}Job Listings{% endblock %}
{% block content %}

<form method="get">
  <h1>Job Listings</h1>
  <label>Search:</label>
  <input type="text" name="q" value="{{ request.GET.q }}">
  <label>Location:</label>
  <input type="text" name="loc" value="{{ request.GET.loc }}">
  <button type="submit">Filter</button>
</form>

{% if jobs %}
<ul>
  {% for job in jobs %}
    <li>
      <a href="{% url 'job_detail' job.id %}">{{ job.title }}</a>
      — {{ job.company }} ({{ job.location }})
      {% if user.is_authenticated and job.owner_id == user.id %}
        — <a href="{% url 'edit_job' job.id %}">Edit</a>
        — <a href="{% url 'delete_job' job.id %}">Delete</a>
      {% endif %}
    </li>
  {% endfor %}
</ul>
{% else %}
<p>No jobs found.</p>
{% endif %}
{% endblock %}